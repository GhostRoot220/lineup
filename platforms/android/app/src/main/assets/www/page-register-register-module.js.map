{"version":3,"sources":["webpack:///./src/app/page/register/register.module.ts","webpack:///./src/app/page/register/register.page.html","webpack:///./src/app/page/register/register.page.scss","webpack:///./src/app/page/register/register.page.ts"],"names":[],"mappings":"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","file":"page-register-register-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RegisterPage } from './register.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RegisterPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [RegisterPage]\n})\nexport class RegisterPageModule {}\n","module.exports = \"<ion-header no-border>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <div id=\\\"register-header\\\">\\n    <p>LINEUP</p>\\n  </div>\\n\\n  <div id=\\\"register-subheader\\\">\\n    <p>Create new account</p>\\n  </div>\\n\\n  <ion-item>\\n    <ion-input type=\\\"text\\\" placeholder=\\\"First Name\\\" [(ngModel)]=\\\"newFname\\\"></ion-input>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-input type=\\\"text\\\" placeholder=\\\"Last Name\\\" [(ngModel)]=\\\"newLname\\\"></ion-input>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-input type=\\\"email\\\" placeholder=\\\"Email Address\\\" [(ngModel)]=\\\"newEmail\\\"></ion-input>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-input [type]=\\\"inputNewpwdType\\\" placeholder=\\\"Password\\\" [(ngModel)]=\\\"newPwd\\\"></ion-input>\\n    <ion-icon name=\\\"eye\\\" item-end (click)=\\\"onClickEyeIcon(0)\\\"></ion-icon>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-input [type]=\\\"inputRepeatpwdType\\\" placeholder=\\\"Repeat Password\\\" [(ngModel)]=\\\"newRepeatPwd\\\"></ion-input>\\n    <ion-icon name=\\\"eye\\\" item-end (click)=\\\"onClickEyeIcon(1)\\\"></ion-icon>\\n  </ion-item>\\n\\n  <div class=\\\"btn-register\\\">\\n    <ion-button color=\\\"primary\\\" expand=\\\"full\\\" (click)=\\\"createNewAccount()\\\">Create account</ion-button>\\n  </div>\\n</ion-content>\\n\"","module.exports = \"ion-content, ion-header {\\n  --ion-background-color: #BCD9E6; }\\n\\n#register-header {\\n  text-align: center;\\n  margin: 3vh 0 6vh 0; }\\n\\n#register-header > p {\\n  color: #00B4F9;\\n  font-family: \\\"Open Sans Bold\\\";\\n  font-size: 14pt; }\\n\\n#register-subheader {\\n  text-align: center; }\\n\\n#register-subheader p {\\n    color: #84A1B3;\\n    font-weight: bold; }\\n\\n.btn-register {\\n  margin-top: 3vh; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZS9yZWdpc3Rlci9FOlxcd29ya3NwYWNlXFxBbmRyb2lkXFxsaW5ldXAoMDktMTgpL3NyY1xcYXBwXFxwYWdlXFxyZWdpc3RlclxccmVnaXN0ZXIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksK0JBQXVCLEVBQUE7O0FBRzNCO0VBQ0ksa0JBQWtCO0VBQ2xCLG1CQUFtQixFQUFBOztBQUd2QjtFQUNJLGNBQWM7RUFDZCw2QkFBNkI7RUFDN0IsZUFBZSxFQUFBOztBQUduQjtFQUNJLGtCQUFrQixFQUFBOztBQUR0QjtJQUdRLGNBQWM7SUFDZCxpQkFBaUIsRUFBQTs7QUFJekI7RUFDSSxlQUFlLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9wYWdlL3JlZ2lzdGVyL3JlZ2lzdGVyLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb250ZW50LCBpb24taGVhZGVyIHtcbiAgICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiAjQkNEOUU2O1xufVxuXG4jcmVnaXN0ZXItaGVhZGVyIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgbWFyZ2luOiAzdmggMCA2dmggMDtcbn1cblxuI3JlZ2lzdGVyLWhlYWRlciA+IHAge1xuICAgIGNvbG9yOiAjMDBCNEY5O1xuICAgIGZvbnQtZmFtaWx5OiBcIk9wZW4gU2FucyBCb2xkXCI7XG4gICAgZm9udC1zaXplOiAxNHB0O1xufVxuXG4jcmVnaXN0ZXItc3ViaGVhZGVyIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgcCB7XG4gICAgICAgIGNvbG9yOiAjODRBMUIzO1xuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICB9XG59XG5cbi5idG4tcmVnaXN0ZXIge1xuICAgIG1hcmdpbi10b3A6IDN2aDtcbn0iXX0= */\"","import {Component, OnInit, ViewChild, ElementRef} from '@angular/core';\nimport {LoadingController, Events} from '@ionic/angular';\nimport {Router} from '@angular/router';\nimport * as firebase from 'firebase';\nimport 'firebase/auth';\n\n/**\n * import interface\n */\nimport {UserData} from '../../page/interface/interface';\n\n/**\n * import custom services\n */\nimport {ShowtoastService} from '../../services/showtoast/showtoast.service';\nimport {MyutilsService} from 'src/app/services/myutils/myutils.service';\n\n@Component({\n    selector: 'app-register',\n    templateUrl: './register.page.html',\n    styleUrls: ['./register.page.scss'],\n})\nexport class RegisterPage implements OnInit {\n    private inputNewpwdType = 'password';\n    private inputRepeatpwdType = 'password';\n\n    private newFname = '';\n    private newLname = '';\n    private newEmail = '';\n    private newPwd = '';\n    private newRepeatPwd = '';\n\n    constructor(\n        private loadingCtrl: LoadingController,\n        private router: Router,\n        private toastService: ShowtoastService,\n        private myUtils: MyutilsService,\n        private event: Events\n    ) {\n    }\n\n    ngOnInit() {\n    }\n\n    onClickEyeIcon(type) {\n        if (type == 0) {\n            this.inputNewpwdType = this.inputNewpwdType == 'password' ? 'text' : 'password';\n        } else {\n            this.inputRepeatpwdType = this.inputRepeatpwdType == 'password' ? 'text' : 'password';\n        }\n    }\n\n    async createNewAccount() {\n\n        if (this.newFname === '') {\n            alert('Please input First Name!');\n            return;\n        }\n\n        if (this.newLname === '') {\n            alert('Please input Last Name!');\n            return;\n        }\n\n        if (this.newEmail === '') {\n            alert('Please input Email Address');\n            return;\n        }\n\n        if (this.newPwd === '') {\n            alert('Please input Password');\n            return;\n        }\n\n        if (this.newRepeatPwd === '') {\n            alert('Please input Password again to confirm password is correct');\n            return;\n        }\n\n        if (this.newPwd !== this.newRepeatPwd) {\n            alert('Passwords do not match!');\n            return;\n        }\n\n        const createLoader = await this.loadingCtrl.create({\n            message: 'Please wait...'\n        });\n\n        await createLoader.present();\n\n        try {\n            const userinfo = await firebase.auth().createUserWithEmailAndPassword(this.newEmail, this.newPwd);\n            const currentLocation = this.myUtils.getCurrentLocation();\n            if (userinfo.additionalUserInfo.isNewUser == true) {\n                const userData: UserData = {\n                    uid: userinfo.user.uid,\n                    fname: this.newFname,\n                    lname: this.newLname,\n                    email: this.newEmail,\n                    token: localStorage.getItem('token'),\n                    password: this.newPwd,\n                    phone: '',\n                    profileimg: '',\n                    noti: {\n                        break: true,\n                        product: true,\n                        message: true,\n                        range: 100,\n                        start: '06:00',\n                        end: '20:00',\n                        type: '0'\n                    },\n                    favorite: {\n                        beaches: '',\n                        products: '',\n                        discussions: ''\n                    },\n                    location: {\n                        lat: currentLocation.lat ? currentLocation.lat : '',\n                        long: currentLocation.long ? currentLocation.long : ''\n                    },\n                    review: 0,\n                    adminrole: 0\n                };\n                await firebase.database().ref('users/' + userinfo.user.uid).update(userData);\n                await createLoader.dismiss();\n                this.event.publish('onAuth');\n                this.router.navigateByUrl('/home/main');\n            } else {\n                await createLoader.dismiss();\n            }\n        } catch (err) {\n            await createLoader.dismiss();\n            let errmsg = '';\n            if (err.code == 'auth/email-already-in-use') {\n                errmsg = 'Email address is already in use.';\n            } else {\n                errmsg = err.message;\n            }\n            this.toastService.showToast(errmsg);\n        }\n    }\n}\n"],"sourceRoot":""}