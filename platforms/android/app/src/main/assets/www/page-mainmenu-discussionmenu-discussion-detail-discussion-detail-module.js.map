{"version":3,"sources":["webpack:///./src/app/page/mainmenu/discussionmenu/discussion-detail/discussion-detail.module.ts","webpack:///./src/app/page/mainmenu/discussionmenu/discussion-detail/discussion-detail.page.html","webpack:///./src/app/page/mainmenu/discussionmenu/discussion-detail/discussion-detail.page.scss","webpack:///./src/app/page/mainmenu/discussionmenu/discussion-detail/discussion-detail.page.ts"],"names":[],"mappings":"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","file":"page-mainmenu-discussionmenu-discussion-detail-discussion-detail-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\nimport { ComponentModule } from '../../../../component/component.module';\nimport { PipesModule } from '../../../../pipes/pipes.module';\n\nimport { DiscussionDetailPage } from './discussion-detail.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DiscussionDetailPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComponentModule,\n    PipesModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [DiscussionDetailPage]\n})\nexport class DiscussionDetailPageModule {}\n","module.exports = \"<ion-header no-border>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button color=\\\"navback\\\"></ion-back-button>\\n    </ion-buttons>\\n    <!-- <ion-icon slot=\\\"start\\\" color=\\\"navback\\\" name=\\\"arrow-back\\\" (click)=\\\"onClickBackBtn()\\\"></ion-icon> -->\\n    <ion-title>{{discussionTitle}}</ion-title>\\n    <ion-icon slot=\\\"end\\\" [color]=\\\"isFavDiscussion?'activestar':'light'\\\" name=\\\"star\\\" (click)=\\\"onToggleFavoriteBtn()\\\"></ion-icon>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <div id=\\\"discussion-detail-eventname\\\">\\n    <p>{{discussionTitle}}</p>\\n  </div>\\n\\n  <div id=\\\"discussion-detail-container\\\">\\n    <div class=\\\"discussion-detail-item\\\" *ngFor=\\\"let item of detailItems\\\">\\n      <div class=\\\"discussion-detail-body\\\">\\n        <p class=\\\"discussion-detail-item-content\\\">\\n          {{item.content}}\\n        </p>\\n        <p class=\\\"discussion-detail-item-time\\\">\\n          {{item.postername | formatname}}.&nbsp;&nbsp;&nbsp;{{item.createdat | millitotime: true}}\\n        </p>\\n      </div>\\n    </div>\\n  </div>\\n</ion-content>\\n\\n<ion-footer>\\n  <ion-toolbar>\\n    <ion-item>\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"discussionCommentTxt\\\" placeholder=\\\"Your Message here\\\"></ion-input>\\n      <ion-icon slot=\\\"end\\\" name=\\\"mail\\\" (click)=\\\"postDiscussionComment()\\\"></ion-icon>\\n    </ion-item>\\n  </ion-toolbar>\\n</ion-footer>\\n\"","module.exports = \"ion-header {\\n  --ion-background-color: #84A1B3; }\\n  ion-header ion-toolbar {\\n    position: relative;\\n    --background: #84A1B3; }\\n  ion-header ion-toolbar ion-icon {\\n      font-size: 16pt;\\n      margin: 0 16px; }\\n  ion-title {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  text-align: center;\\n  color: #CAE9F7;\\n  font-weight: bold; }\\n  #discussion-detail-eventname {\\n  color: #658696;\\n  text-align: center; }\\n  .discussion-detail-item {\\n  box-shadow: 0 0 8px #e8e8e8;\\n  margin-bottom: 2vh; }\\n  .discussion-detail-body {\\n  padding: 5px 10px 10px 10px; }\\n  .discussion-detail-item-content, .discussion-detail-item-time {\\n  margin: 5px 0; }\\n  .discussion-detail-item-content {\\n  color: #565656;\\n  font-style: italic; }\\n  .discussion-detail-item-time {\\n  text-align: right;\\n  font-size: 10pt;\\n  color: #656565; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZS9tYWlubWVudS9kaXNjdXNzaW9ubWVudS9kaXNjdXNzaW9uLWRldGFpbC9FOlxcd29ya3NwYWNlXFxBbmRyb2lkXFxsaW5ldXAoMDktMTgpL3NyY1xcYXBwXFxwYWdlXFxtYWlubWVudVxcZGlzY3Vzc2lvbm1lbnVcXGRpc2N1c3Npb24tZGV0YWlsXFxkaXNjdXNzaW9uLWRldGFpbC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSwrQkFBdUIsRUFBQTtFQUQzQjtJQUdRLGtCQUFrQjtJQUNsQixxQkFBYSxFQUFBO0VBSnJCO01BTVksZUFBZTtNQUNmLGNBQWMsRUFBQTtFQUsxQjtFQUNJLGtCQUFrQjtFQUNsQixRQUFRO0VBQ1IsU0FBUztFQUNULGdDQUFnQztFQUNoQyxrQkFBa0I7RUFDbEIsY0FBYztFQUNkLGlCQUFpQixFQUFBO0VBR3JCO0VBQ0ksY0FBYztFQUNkLGtCQUFrQixFQUFBO0VBR3RCO0VBQ0ksMkJBQTJCO0VBQzNCLGtCQUFrQixFQUFBO0VBR3RCO0VBQ0ksMkJBQTJCLEVBQUE7RUFHL0I7RUFDSSxhQUFhLEVBQUE7RUFHakI7RUFDSSxjQUFjO0VBQ2Qsa0JBQWtCLEVBQUE7RUFHdEI7RUFDSSxpQkFBaUI7RUFDakIsZUFBZTtFQUNmLGNBQWMsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3BhZ2UvbWFpbm1lbnUvZGlzY3Vzc2lvbm1lbnUvZGlzY3Vzc2lvbi1kZXRhaWwvZGlzY3Vzc2lvbi1kZXRhaWwucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWhlYWRlciB7XG4gICAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjogIzg0QTFCMztcbiAgICBpb24tdG9vbGJhciB7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgLS1iYWNrZ3JvdW5kOiAjODRBMUIzO1xuICAgICAgICBpb24taWNvbiB7XG4gICAgICAgICAgICBmb250LXNpemU6IDE2cHQ7XG4gICAgICAgICAgICBtYXJnaW46IDAgMTZweDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuaW9uLXRpdGxlIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiA1MCU7XG4gICAgbGVmdDogNTAlO1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBjb2xvcjogI0NBRTlGNztcbiAgICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuI2Rpc2N1c3Npb24tZGV0YWlsLWV2ZW50bmFtZSB7XG4gICAgY29sb3I6ICM2NTg2OTY7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4uZGlzY3Vzc2lvbi1kZXRhaWwtaXRlbSB7XG4gICAgYm94LXNoYWRvdzogMCAwIDhweCAjZThlOGU4O1xuICAgIG1hcmdpbi1ib3R0b206IDJ2aDtcbn1cblxuLmRpc2N1c3Npb24tZGV0YWlsLWJvZHkge1xuICAgIHBhZGRpbmc6IDVweCAxMHB4IDEwcHggMTBweDtcbn1cblxuLmRpc2N1c3Npb24tZGV0YWlsLWl0ZW0tY29udGVudCwgLmRpc2N1c3Npb24tZGV0YWlsLWl0ZW0tdGltZSB7XG4gICAgbWFyZ2luOiA1cHggMDtcbn1cblxuLmRpc2N1c3Npb24tZGV0YWlsLWl0ZW0tY29udGVudCB7XG4gICAgY29sb3I6ICM1NjU2NTY7XG4gICAgZm9udC1zdHlsZTogaXRhbGljO1xufVxuXG4uZGlzY3Vzc2lvbi1kZXRhaWwtaXRlbS10aW1lIHtcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICBmb250LXNpemU6IDEwcHQ7XG4gICAgY29sb3I6ICM2NTY1NjU7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { LoadingController, NavController, Events } from '@ionic/angular';\nimport { FirebaseService } from '../../../../services/firebase-service/firebase.service';\nimport { Message, UserData } from '../../../interface/interface';\n\n@Component({\n  selector: 'app-discussion-detail',\n  templateUrl: './discussion-detail.page.html',\n  styleUrls: ['./discussion-detail.page.scss'],\n})\nexport class DiscussionDetailPage implements OnInit {\n\n  private discussionId = '';\n  private discussionTitle = '';\n  private backPage: string;\n\n  private isFavDiscussion;\n  private arrFavDiscussions = [];\n\n  private currentUserid = '';\n  private userInfo: UserData = {};\n  private discussionCommentTxt = '';\n  private detailItems: any;\n\n  private discussionDataRef = null;\n  private discussionDataListener = null;\n\n  /**\n   * 0: new discussion\n   * 1: old discussion\n   */\n  private isnew: boolean;\n\n  constructor(\n    private route: ActivatedRoute,\n    private navCtrl: NavController,\n    private firebaseService: FirebaseService,\n    private loadingCtrl: LoadingController,\n    private event: Events\n    ) {\n    this.detailItems = [];\n  }\n\n  ngOnInit() {\n    this.currentUserid = this.firebaseService.getUID();\n    this.discussionId = this.route.snapshot.paramMap.get('discussionid');\n    this.discussionTitle = this.route.snapshot.paramMap.get('discussiontitle');\n    this.backPage = this.route.snapshot.paramMap.get('backpage');\n    this.isnew = this.route.snapshot.paramMap.get('isnew') == '0' ? true : false;\n  }\n\n  ionViewWillEnter() {\n    this.initPage();\n  }\n\n  async initPage() {\n    this.isFavDiscussion = true;\n    this.arrFavDiscussions = [];\n    await this.getUserData();\n    if (this.userInfo.favorite.discussions !== '') {\n      await this.checkIfFavDiscussion();\n    }\n    this.getAllDiscussionData();\n  }\n\n  async checkIfFavDiscussion() {\n    const strFavDiscussion = this.userInfo.favorite.discussions;\n    this.arrFavDiscussions = strFavDiscussion.split(',');\n    if (this.isnew) {\n      this.arrFavDiscussions.push(this.discussionId);\n    } else {\n      this.isFavDiscussion = this.arrFavDiscussions.indexOf(this.discussionId) > -1 ? true : false;\n    }\n  }\n\n  async getUserData() {\n    const userDataSnapshot = await this.firebaseService.getUserProfile(this.currentUserid);\n    this.userInfo = userDataSnapshot.val();\n  }\n\n  async getAllDiscussionData() {\n    const self = this;\n    const detailLoader = await this.loadingCtrl.create({\n      message: 'Loading...'\n    });\n    await detailLoader.present();\n    this.discussionDataRef = this.firebaseService.getDiscussionContentsById(this.discussionId);\n    this.discussionDataListener = this.discussionDataRef.on('value', snapshot => {\n      self.detailItems = [];\n      snapshot.forEach(function(childsnapshot) {\n        self.detailItems.push({...childsnapshot.val()});\n      });\n      detailLoader.dismiss();\n    });\n  }\n\n  async postDiscussionComment() {\n    if (this.discussionCommentTxt == '') {\n      alert('Please input your text');\n      return;\n    } else {\n      const commentItem: DiscussionComment = {\n        id: '',\n        posterid: this.currentUserid,\n        postername: this.userInfo.fname + ' ' + this.userInfo.lname,\n        content: this.discussionCommentTxt,\n        createdat: '',\n        title: this.discussionTitle,\n        review: 0\n      };\n      const saveLoader = await this.loadingCtrl.create({\n        message: 'Please wait...'\n      });\n      await saveLoader.present();\n\n      try {\n        await this.firebaseService.setDiscussionComment(this.discussionId, commentItem);\n        saveLoader.dismiss();\n        this.discussionCommentTxt = '';\n      } catch (err) {\n        saveLoader.dismiss();\n        console.log(err);\n      }\n    }\n  }\n\n  onToggleFavoriteBtn() {\n    this.isFavDiscussion = !this.isFavDiscussion;\n    if (this.isFavDiscussion == true) {\n      this.arrFavDiscussions.push(this.discussionId);\n    } else {\n      const index = this.arrFavDiscussions.indexOf(this.discussionId);\n      if (index > -1) {\n        this.arrFavDiscussions.splice(index, 1);\n      }\n    }\n    this.firebaseService.addFavDiscussions(this.arrFavDiscussions.join(','));\n  }\n\n  async onClickBackBtn() {\n    if (this.discussionDataListener !== null) {\n      this.discussionDataRef.off('value', this.discussionDataListener);\n      this.discussionDataListener = null;\n      this.discussionDataRef = null;\n    }\n    const favLoader = await this.loadingCtrl.create({\n      spinner: 'bubbles'\n    });\n    await favLoader.present();\n    await this.firebaseService.addFavDiscussions(this.arrFavDiscussions.join(','));\n    favLoader.dismiss();\n    if (this.backPage == 'home') {\n      this.navCtrl.navigateBack('/home/main');\n    } else {\n      this.event.publish('onloaddiscussion');\n      this.navCtrl.navigateBack('/home/discussion');\n    }\n  }\n\n}\n\ninterface DiscussionComment {\n  id: string;\n  posterid: string;\n  postername: string;\n  content: string;\n  createdat: string;\n  title: string;\n  review: number;\n}\n"],"sourceRoot":""}