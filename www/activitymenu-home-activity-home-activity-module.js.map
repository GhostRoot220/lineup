{"version":3,"sources":["webpack:///./src/app/page/mainmenu/activitymenu/activitypopover/activitypopover.page.ts","webpack:///./src/app/page/mainmenu/activitymenu/home-activity/home-activity.module.ts","webpack:///./src/app/page/mainmenu/activitymenu/home-activity/home-activity.page.html","webpack:///./src/app/page/mainmenu/activitymenu/home-activity/home-activity.page.scss","webpack:///./src/app/page/mainmenu/activitymenu/home-activity/home-activity.page.ts"],"names":[],"mappings":"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","file":"activitymenu-home-activity-home-activity-module.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { PopoverController } from '@ionic/angular';\n\n@Component({\n  template: `\n  <ion-list>\n    <ion-item button lines='none' (click)=\"openHidenList()\">\n      <ion-label>Hidden Messages</ion-label>\n    </ion-item>\n  </ion-list>`\n})\nexport class ActivitypopoverPage implements OnInit {\n\n  constructor(private router: Router, private popoverCtrl: PopoverController) { }\n\n  ngOnInit() {\n  }\n\n  openHidenList() {\n    this.router.navigateByUrl('/hidelist');\n    this.popoverCtrl.dismiss();\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport { PipesModule } from 'src/app/pipes/pipes.module';\n\nimport { IonicModule } from '@ionic/angular';\nimport { ComponentModule } from \"../../../../component/component.module\";\nimport { HomeActivityPage } from './home-activity.page';\nimport { ActivitypopoverPage } from '../activitypopover/activitypopover.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComponentModule,\n    PipesModule,\n    RouterModule.forChild([{ path: '', component: HomeActivityPage }])\n  ],\n  declarations: [HomeActivityPage, ActivitypopoverPage],\n  entryComponents: [ActivitypopoverPage]\n})\nexport class HomeActivityPageModule {}\n","module.exports = \"<ion-header no-border>\\n  <ion-toolbar>\\n    <ion-title color=\\\"navback\\\">Conversations</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button fill=\\\"clear\\\" (click)=\\\"onClickPopOver()\\\">\\n        <ion-icon name=\\\"more\\\" color=\\\"navback\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content no-padding>\\n  <div id=\\\"home-activity-contact-container\\\">\\n    <div class=\\\"home-activity-contact-item\\\" *ngFor=\\\"let contact of contacts; let i = index;\\\" (click)=\\\"viewChatRoom(i)\\\">\\n      <div class=\\\"home-activity-contact-img\\\">\\n        <div class=\\\"home-activity-contact-boardimg\\\">\\n          <img [src]=\\\"contact.boardImg\\\" />\\n        </div>\\n      </div>\\n      <div class=\\\"home-activity-contact-main\\\">\\n        <div>\\n          <p>\\n            {{contact.boardName}}\\n          </p>\\n          <p>\\n            Item: {{contact.name | formatname}}\\n          </p>\\n          <p (click)=\\\"onClickMessageControlBtn($event, contact.itemid, 0)\\\">\\n            Hide Conversation\\n          </p>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</ion-content>\"","module.exports = \"ion-header {\\n  --ion-background-color: #84A1B3; }\\n\\nion-toolbar {\\n  --background: #84A1B3;\\n  position: relative; }\\n\\nion-title {\\n  text-align: center;\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%); }\\n\\nion-segment-button {\\n  font-size: 12px;\\n  flex: 1; }\\n\\n#home-activity-contact-container, #home-activity-favcontact-container {\\n  padding: 16px; }\\n\\n.home-activity-contact-item {\\n  display: flex;\\n  margin-bottom: 2vh;\\n  padding: 10px;\\n  box-shadow: 0 0 8px #eaeaea; }\\n\\n.home-activity-contact-img {\\n  display: flex;\\n  align-items: center; }\\n\\n.home-activity-contact-boardimg {\\n  width: 100px;\\n  height: 100px;\\n  overflow: hidden;\\n  position: relative; }\\n\\n.home-activity-contact-boardimg img {\\n    position: absolute;\\n    top: 50%;\\n    left: 50%;\\n    transform: translate(-50%, -50%); }\\n\\n.home-activity-contact-main {\\n  flex: 6;\\n  padding-left: 16px;\\n  display: flex;\\n  align-items: center; }\\n\\n.home-activity-contact-main p {\\n    margin: 5px 0; }\\n\\n.home-activity-contact-main > div > p:first-child {\\n  color: #5a5a5a;\\n  font-size: 12pt; }\\n\\n.home-activity-contact-main > div > p:nth-child(2) {\\n  color: #5a5a5a;\\n  font-style: italic;\\n  font-size: 10pt; }\\n\\n.home-activity-contact-main > div > p:nth-child(3) {\\n  font-size: 10pt;\\n  color: #3594d0;\\n  text-decoration: underline; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZS9tYWlubWVudS9hY3Rpdml0eW1lbnUvaG9tZS1hY3Rpdml0eS9FOlxcd29ya3NwYWNlXFxBbmRyb2lkXFxsaW5ldXAoMDktMTgpL3NyY1xcYXBwXFxwYWdlXFxtYWlubWVudVxcYWN0aXZpdHltZW51XFxob21lLWFjdGl2aXR5XFxob21lLWFjdGl2aXR5LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLCtCQUF1QixFQUFBOztBQUczQjtFQUNJLHFCQUFhO0VBQ2Isa0JBQWtCLEVBQUE7O0FBR3RCO0VBQ0ksa0JBQWtCO0VBQ2xCLGtCQUFrQjtFQUNsQixRQUFRO0VBQ1IsU0FBUztFQUNULGdDQUFnQyxFQUFBOztBQUdwQztFQUNJLGVBQWU7RUFDZixPQUFPLEVBQUE7O0FBR1g7RUFDSSxhQUFhLEVBQUE7O0FBR2pCO0VBQ0ksYUFBYTtFQUNiLGtCQUFrQjtFQUNsQixhQUFhO0VBQ2IsMkJBQTJCLEVBQUE7O0FBRy9CO0VBQ0ksYUFBYTtFQUNiLG1CQUFtQixFQUFBOztBQUd2QjtFQUNJLFlBQVk7RUFDWixhQUFhO0VBQ2IsZ0JBQWdCO0VBQ2hCLGtCQUFrQixFQUFBOztBQUp0QjtJQU1RLGtCQUFrQjtJQUNsQixRQUFRO0lBQ1IsU0FBUztJQUNULGdDQUFnQyxFQUFBOztBQUl4QztFQUNJLE9BQU87RUFDUCxrQkFBa0I7RUFDbEIsYUFBYTtFQUNiLG1CQUFtQixFQUFBOztBQUp2QjtJQU1RLGFBQWEsRUFBQTs7QUFJckI7RUFDSSxjQUFjO0VBQ2QsZUFBZSxFQUFBOztBQUduQjtFQUNJLGNBQWM7RUFDZCxrQkFBa0I7RUFDbEIsZUFBZSxFQUFBOztBQUduQjtFQUNJLGVBQWU7RUFDZixjQUFjO0VBQ2QsMEJBQTBCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9wYWdlL21haW5tZW51L2FjdGl2aXR5bWVudS9ob21lLWFjdGl2aXR5L2hvbWUtYWN0aXZpdHkucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWhlYWRlciB7XG4gICAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjogIzg0QTFCMztcbn1cblxuaW9uLXRvb2xiYXIge1xuICAgIC0tYmFja2dyb3VuZDogIzg0QTFCMztcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG5cbmlvbi10aXRsZSB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDUwJTtcbiAgICBsZWZ0OiA1MCU7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XG59XG5cbmlvbi1zZWdtZW50LWJ1dHRvbiB7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICAgIGZsZXg6IDE7XG59XG5cbiNob21lLWFjdGl2aXR5LWNvbnRhY3QtY29udGFpbmVyLCAjaG9tZS1hY3Rpdml0eS1mYXZjb250YWN0LWNvbnRhaW5lciB7XG4gICAgcGFkZGluZzogMTZweDtcbn1cblxuLmhvbWUtYWN0aXZpdHktY29udGFjdC1pdGVtIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIG1hcmdpbi1ib3R0b206IDJ2aDtcbiAgICBwYWRkaW5nOiAxMHB4O1xuICAgIGJveC1zaGFkb3c6IDAgMCA4cHggI2VhZWFlYTtcbn1cblxuLmhvbWUtYWN0aXZpdHktY29udGFjdC1pbWcge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuLmhvbWUtYWN0aXZpdHktY29udGFjdC1ib2FyZGltZyB7XG4gICAgd2lkdGg6IDEwMHB4O1xuICAgIGhlaWdodDogMTAwcHg7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgaW1nIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IDUwJTtcbiAgICAgICAgbGVmdDogNTAlO1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbiAgICB9XG59XG5cbi5ob21lLWFjdGl2aXR5LWNvbnRhY3QtbWFpbiB7XG4gICAgZmxleDogNjtcbiAgICBwYWRkaW5nLWxlZnQ6IDE2cHg7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIHAge1xuICAgICAgICBtYXJnaW46IDVweCAwO1xuICAgIH1cbn1cblxuLmhvbWUtYWN0aXZpdHktY29udGFjdC1tYWluID4gZGl2ID4gcDpmaXJzdC1jaGlsZCB7XG4gICAgY29sb3I6ICM1YTVhNWE7XG4gICAgZm9udC1zaXplOiAxMnB0O1xufVxuXG4uaG9tZS1hY3Rpdml0eS1jb250YWN0LW1haW4gPiBkaXYgPiBwOm50aC1jaGlsZCgyKSB7XG4gICAgY29sb3I6ICM1YTVhNWE7XG4gICAgZm9udC1zdHlsZTogaXRhbGljO1xuICAgIGZvbnQtc2l6ZTogMTBwdDtcbn1cblxuLmhvbWUtYWN0aXZpdHktY29udGFjdC1tYWluID4gZGl2ID4gcDpudGgtY2hpbGQoMykge1xuICAgIGZvbnQtc2l6ZTogMTBwdDtcbiAgICBjb2xvcjogIzM1OTRkMDtcbiAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { LoadingController, NavController, PopoverController, Events } from '@ionic/angular';\n\nimport { FirebaseService } from '../../../../services/firebase-service/firebase.service';\nimport { UserData } from 'src/app/page/interface/interface';\nimport { ActivitypopoverPage } from '../activitypopover/activitypopover.page';\nimport { MyutilsService } from 'src/app/services/myutils/myutils.service';\n\n@Component({\n  selector: 'app-home-activity',\n  templateUrl: './home-activity.page.html',\n  styleUrls: ['./home-activity.page.scss'],\n})\nexport class HomeActivityPage implements OnInit {\n\n  private currentUserId: string;\n  private currentUserInfo: UserData = {};\n\n  private messageDataRef = null;\n  private messageDataListener = null;\n  private allContacts = [];\n  private contacts = [];\n  private historyLoader = null;\n  private arrHideLists = [];\n\n  constructor(\n    private navCtrl: NavController,\n    private firebaseService: FirebaseService,\n    private myUtils: MyutilsService,\n    private loadingCtrl: LoadingController,\n    private popoverCtrl: PopoverController,\n    private event: Events) {\n    this.event.subscribe('onchangehidelist', (data) => {\n      this.initPage();\n    });\n  }\n\n  ngOnInit() {\n    this.currentUserId = this.firebaseService.getUID();\n  }\n\n  ionViewWillEnter() {\n    this.initPage();\n  }\n\n  async initPage() {\n    this.messageDataRef = null;\n    this.messageDataListener = null;\n\n    this.arrHideLists = [];\n    if(localStorage.getItem(\"hidelist\") !== null && localStorage.getItem(\"hidelist\") !== \"\") {\n      const strHideLists = localStorage.getItem(\"hidelist\");\n      this.arrHideLists = strHideLists.split(\",\");\n    }\n\n    await this.getCurrentUserInfo();\n    await this.getChatHistory();\n\n    this.event.publish(\"onReceiveNotification\", {isClear: true});\n  }\n\n  async getCurrentUserInfo() {\n    this.historyLoader = await this.loadingCtrl.create({\n      message: \"Loading...\"\n    });\n    await this.historyLoader.present();\n    try {\n      const currentUserSnapshot = await this.firebaseService.getUserProfile(this.currentUserId);\n      this.currentUserInfo = {...currentUserSnapshot.val()};\n    } catch(err) {\n      this.historyLoader.dismiss();\n      console.log(err);\n    }\n  }\n\n  async getChatHistory() {\n    var self = this;\n    this.messageDataRef = this.firebaseService.getAllChatHistoryRef();\n    this.messageDataListener = this.messageDataRef.on(\"value\", snapshot => {\n      self.contacts = [];\n      self.allContacts = [];\n      snapshot.forEach(function(childSnapshot) {\n        childSnapshot.forEach(function(valueSnapshot) {\n          let users = valueSnapshot.key.split(\"-\");\n          let tmpCUIndex = users.findIndex(item => item == self.currentUserId);\n          let tmpMessageObj = valueSnapshot.val();\n          let boardName = \"\";\n          let boardImg = \"\";\n          if(tmpMessageObj !== null) {\n            boardName = tmpMessageObj[Object.keys(tmpMessageObj)[0]].boardName;\n            boardImg = tmpMessageObj[Object.keys(tmpMessageObj)[0]].contentimg;\n          }\n          if(tmpCUIndex > -1) {\n            let otherUID = tmpCUIndex==0?users[1]:users[0];\n            let isExists = self.contacts.findIndex(item => item == otherUID);\n            if(isExists == -1) {\n              self.getUserData(otherUID, childSnapshot.key, boardName, boardImg);\n            }\n          }\n        });\n      });\n      self.myUtils.setChatHistory(this.allContacts);\n      self.historyLoader.dismiss();\n    });\n  }\n\n  async getUserData(uid, itemid, boardName, boardImg) {\n    try {\n      const userInfoSnapshot = await this.firebaseService.getUserProfile(uid);\n      let isHidden = this.arrHideLists.indexOf(itemid);\n      let isAllExists = this.allContacts.findIndex(x => x.itemid === itemid);\n      let isContactExists = this.contacts.findIndex(x => x.itemid === itemid);\n      if(isAllExists == -1) {\n        this.allContacts.push({...userInfoSnapshot.val(), itemid: itemid, boardName: boardName, boardImg: boardImg, name: userInfoSnapshot.val().fname + \" \" + userInfoSnapshot.val().lname});\n      }\n      if(isHidden == -1 && isContactExists == -1) {\n        this.contacts.push({...userInfoSnapshot.val(), itemid: itemid, boardName: boardName, boardImg: boardImg, name: userInfoSnapshot.val().fname + \" \" + userInfoSnapshot.val().lname});\n      }\n    } catch(err) {\n      console.log(err);\n    }\n  }\n\n  viewChatRoom(contactid) {\n    this.stopActivityListener();\n    this.navCtrl.navigateForward('/chat/' + this.contacts[contactid].itemid + \"/\" + this.contacts[contactid].uid);\n  }\n\n  onClickMessageControlBtn(evt, itemid) {\n    evt.stopPropagation();\n    this.arrHideLists.push(itemid);\n    let index = this.contacts.findIndex(x=>x.itemid==itemid);\n    if(index > -1) {\n      this.contacts.splice(index, 1);\n    }\n\n    localStorage.setItem(\"hidelist\", this.arrHideLists.join(\",\"));\n  }\n\n  async onClickPopOver() {\n    const popover = await this.popoverCtrl.create({\n      component: ActivitypopoverPage,\n      event\n    });\n    await popover.present();\n  }\n\n  ionViewWillLeave() {\n    this.stopActivityListener();\n  }\n\n  stopActivityListener() {\n    if(this.messageDataListener != null) {\n      this.messageDataRef.off(\"value\", this.messageDataListener);\n      this.messageDataListener = null;\n      this.messageDataRef = null;\n    }\n  }\n\n}\n"],"sourceRoot":""}